@model MadrinHotelCRM.DTO.DTOModels.PersonelEkleViewModel

<!-- JS'e taşımak için liste serialize  -->
<script>
    var personeller = @Html.Raw(Json.Serialize(Model.PersonelListesi));
</script>

<div class="row">

    <!-- Personel Ekleme / Güncelleme Formu -->
    <div class="col-md-6">
        <h4 class="text-success"> Personel Ekle / Güncelle</h4>
        <form id="kayitForm" class="row g-2">
            <input type="hidden" name="PersonelId" value="0" />
            <input type="hidden" name="Rol" value="Personel" />

            <input name="Ad" class="form-control" placeholder="Ad" required />
            <input name="Soyad" class="form-control" placeholder="Soyad" required />
            <input name="Email" class="form-control" placeholder="Email" required />
            <input name="Sifre" type="password" class="form-control" placeholder="Şifre" />
            <input name="Telefon" class="form-control" placeholder="Telefon" required />

            <div class="form-check">
                <input name="YabanciUyrukluMu" type="checkbox" class="form-check-input" id="yabanciCheck" />
                <label class="form-check-label" for="yabanciCheck">Yabancı Uyruklu?</label>
            </div>

            <input name="PasaportNo" class="form-control" placeholder="Pasaport No (Varsa)" />
            <input name="TcKimlik" class="form-control" placeholder="TC Kimlik (Varsa)" />

            <button type="submit" class="btn btn-success mt-2">Kaydet</button>
        </form>
    </div>

    <!-- Personel Listesi -->
    <div class="col-md-6">
        <h4 class="text-primary">Kayıtlı Personeller</h4>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Ad</th>
                    <th>Soyad</th>
                    <th>Email</th>
                    <th>İşlem</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var p in Model.PersonelListesi)
                {
                    <tr>
                        <td>@p.Ad</td>
                        <td>@p.Soyad</td>
                        <td>@p.Email</td>
                        <td>
                            <button class="btn btn-sm btn-warning duzenle-btn" data-id="@p.PersonelId">Düzenle</button>
                            <button class="btn btn-sm btn-danger sil-btn" data-id="@p.PersonelId">Sil</button>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
