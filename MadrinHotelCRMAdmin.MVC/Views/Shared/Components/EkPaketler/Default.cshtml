@using MadrinHotelCRM.DTO.DTOModels
@model List<EkPaketDTO>

<script>
   // bu kısım olmazsa güncelleme alamam olması gerekiyor 
    window.ekPaketler = @Html.Raw(System.Text.Json.JsonSerializer.Serialize(Model));
</script>

<h4>Ek Paketler</h4>

<!-- Yeni/Güncelle Formu -->
<form id="ekPaketForm" class="mb-4">
    <input type="hidden" name="EkPaketId" value="0" />
    <div class="form-row">
        <div class="col">
            <label for="PaketAdi">Paket Adı</label>
            <input name="PaketAdi"class="form-control" placeholder="Paket Adı" required maxlength="100" />
        </div>
        <div class="col">
            <label for="PaketAciklama">Paket Açıklaması </label>
            <input name="PaketAciklama" class="form-control"placeholder="Açıklama" />
        </div>
        <div class="col">
            <label for="Fiyat">Fiyat </label>
            <input name="Fiyat" type="number" step="0.01" class="form-control" placeholder="Fiyat" required />
        </div>
        <div class="col-auto">
            <button id="paketKaydetBtn"  class="btn btn-success"> Kaydet </button>
        </div>
    </div>
</form>

<table class="table table-striped">
    <thead>
        <tr>
            <th>Paket Adı</th>
            <th>Açıklama</th>
            <th>Fiyat</th>
            <th>İşlemler</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var p in Model)
        {
            <tr>
                <td>@p.PaketAdi</td>
                <td>@p.PaketAciklama</td>
                <td>@p.Fiyat ₺</td>
                <td>
                    <button class="btn btn-sm btn-primary paket-duzenle"
                            data-id="@p.EkPaketId">
                       Düzenle
                    </button>
                    <button class="btn btn-sm btn-danger paket-sil"
                            data-id="@p.EkPaketId">
                        Sil
                    </button>
                </td>
            </tr>
        }
    </tbody>
</table>
